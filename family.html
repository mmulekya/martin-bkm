<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Image Grid → Click to Open</title>

<style>
:root{--gap:12px;--thumb-h:110px;--modal-bg:rgba(0,0,0,0.85)}
html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial}
.container{max-width:1100px;margin:28px auto;padding:0 16px}
h5{font-size:20px;margin:0 0 12px}

/* Grid */
.grid{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:var(--gap);
}
.item{
  overflow:hidden;
  border-radius:8px;
  background:#fafafa;
  cursor:pointer;
  display:block;
}
.item img{
  width:100%;
  height:var(--thumb-h);
  object-fit:cover;
  transition:transform .25s ease;
}
.item:hover img{transform:scale(1.05)}
.caption{padding:8px 10px;font-size:13px;color:#333}

/* Modal */
.modal{
  position:fixed;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  background:var(--modal-bg);
  z-index:1000;
  padding:18px;
}
.modal.open{display:flex}

.modal-content{
  max-width:1100px;
  width:100%;
  max-height:90vh;
  display:flex;
  flex-direction:column;
  align-items:center;
}
.modal-img{
  max-width:100%;
  max-height:78vh;
  border-radius:8px;
  box-shadow:0 10px 30px rgba(0,0,0,0.6);
}

.modal-row{
  width:100%;
  display:flex;
  justify-content:space-between;
  margin-top:12px;
  color:#fff;
}
.modal-info{font-size:15px}

.btn,
.nav-btn,
.close{
  background:transparent;
  border:0;
  color:#fff;
  cursor:pointer;
}
.nav-btn{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  font-size:32px;
  padding:18px;
}
.nav-left{left:6px}
.nav-right{right:6px}
.close{
  position:absolute;
  right:8px;
  top:8px;
  font-size:28px;
  padding:6px;
}

/* Responsive */
@media(max-width:900px){.grid{grid-template-columns:repeat(2,1fr)}}
@media(max-width:520px){
  .grid{grid-template-columns:repeat(1,1fr)}
  :root{--thumb-h:150px}
}
</style>
</head>

<body>
<div class="container">
<h5>My Families</h5>

<div class="grid" id="gallery">

<a class="item" data-index="0" href="#">
  <img loading="lazy" src="IM0.jpg" alt="Photo 1">
  <div class="caption">Photo 1</div>
</a>

<a class="item" data-index="1" href="#">
  <img loading="lazy" src="IM1.jpg" alt="Photo 2">
  <div class="caption">Photo 2</div>
</a>

<a class="item" data-index="2" href="#">
  <img loading="lazy" src="IM2.jpg" alt="Photo 3">
  <div class="caption">Photo 3</div>
</a>

<a class="item" data-index="3" href="#">
  <img loading="lazy" src="IM3.jpg" alt="Photo 4">
  <div class="caption">Photo 4</div>
</a>

</div>
</div>

<!-- Modal -->
<div class="modal" id="modal">
  <button class="nav-btn nav-left" id="prevBtn">❮</button>

  <div class="modal-content">
    <button class="close" id="closeBtn">✕</button>
    <img id="modalImage" class="modal-img" alt="">
    <div class="modal-row">
      <div class="modal-info" id="modalCaption"></div>
      <button class="btn" id="downloadBtn">⬇ Download</button>
    </div>
  </div>

  <button class="nav-btn nav-right" id="nextBtn">❯</button>
</div>

<script>
(function(){
const items = Array.from(document.querySelectorAll('.item'));
const modal = document.getElementById('modal');
const modalImage = document.getElementById('modalImage');
const modalCaption = document.getElementById('modalCaption');
const closeBtn = document.getElementById('closeBtn');
const prevBtn = document.getElementById('prevBtn');
const nextBtn = document.getElementById('nextBtn');
const downloadBtn = document.getElementById('downloadBtn');

const largeImages = [
  "IM0.jpg",
  "IM1.jpg",
  "IM2.jpg",
  "IM3.jpg"
];

let current = 0;

function openModal(i){
  current = i;
  modalImage.src = largeImages[i];
  modalImage.alt = items[i].querySelector('.caption').textContent;
  modalCaption.textContent = modalImage.alt;
  modal.classList.add("open");
  document.body.style.overflow = "hidden";
}

function closeModal(){
  modal.classList.remove("open");
  document.body.style.overflow = "";
}

function next(dir){
  current = (current + dir + items.length) % items.length;
  openModal(current);
}

items.forEach((el,i)=>{
  el.addEventListener('click', e=>{
    e.preventDefault();
    openModal(i);
  });
});

closeBtn.onclick = closeModal;
prevBtn.onclick = ()=>next(-1);
nextBtn.onclick = ()=>next(1);

modal.onclick = e=>{
  if(e.target===modal) closeModal();
};

downloadBtn.onclick = ()=>{
  const a = document.createElement('a');
  a.href = modalImage.src;
  a.download = modalImage.alt.replace(/\s+/g,'-').toLowerCase() + ".jpg";
  a.click();
};
})();
</script>

</body>
  </html>
  
